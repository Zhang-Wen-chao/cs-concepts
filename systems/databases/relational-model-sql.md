# å…³ç³»æ¨¡å‹ä¸ SQL (Relational Model and SQL)

> å…³ç³»å‹æ•°æ®åº“çš„ç†è®ºåŸºç¡€å’Œå®è·µè¯­è¨€

## ğŸ¯ æ ¸å¿ƒæ€æƒ³

å…³ç³»æ¨¡å‹æ˜¯æ•°æ®åº“é¢†åŸŸæœ€æˆåŠŸçš„ç†è®ºä¹‹ä¸€ï¼Œç”± Edgar F. Codd åœ¨ 1970 å¹´æå‡ºã€‚å®ƒç”¨ç®€å•çš„**è¡¨æ ¼**æ¥ç»„ç»‡æ•°æ®ï¼Œé…åˆå¼ºå¤§çš„ **SQL è¯­è¨€**è¿›è¡Œæ“ä½œã€‚

**ä¸€å¥è¯ç†è§£ï¼š**
- å…³ç³»æ¨¡å‹ï¼šç”¨**äºŒç»´è¡¨**è¡¨ç¤ºæ•°æ®å’Œæ•°æ®ä¹‹é—´çš„å…³ç³»
- SQLï¼šæ“ä½œè¿™äº›è¡¨çš„**æ ‡å‡†è¯­è¨€**

## ğŸ“– å…³ç³»æ¨¡å‹åŸºç¡€

### 1. æ ¸å¿ƒæ¦‚å¿µ

#### å…³ç³» (Relation) = è¡¨ (Table)
```
å…³ç³»å°±æ˜¯ä¸€å¼ äºŒç»´è¡¨ï¼š

å‘˜å·¥è¡¨ (employees)
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ dept_id â”‚ salary â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 101     â”‚ 8000   â”‚
â”‚ 2  â”‚ æå›› â”‚ 102     â”‚ 9000   â”‚
â”‚ 3  â”‚ ç‹äº” â”‚ 101     â”‚ 7500   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â€¢ æ¯ä¸€è¡Œ = å…ƒç»„ (Tuple) = è®°å½•
â€¢ æ¯ä¸€åˆ— = å±æ€§ (Attribute) = å­—æ®µ
â€¢ è¡¨å = å…³ç³»å
```

#### åŸŸ (Domain)
```
æ¯ä¸ªå±æ€§çš„å–å€¼èŒƒå›´ï¼š

name: å­—ç¬¦ä¸²ç±»å‹ï¼Œæœ€é•¿ 50 å­—ç¬¦
salary: æ•´æ•°ï¼ŒèŒƒå›´ 0-999999
dept_id: æ•´æ•°ï¼Œå¿…é¡»å­˜åœ¨äºéƒ¨é—¨è¡¨ä¸­
```

#### é”® (Key)

**1. è¶…é”® (Super Key)**
```
èƒ½å”¯ä¸€æ ‡è¯†ä¸€æ¡è®°å½•çš„å±æ€§é›†åˆ

å‘˜å·¥è¡¨çš„è¶…é”®ï¼š
  âœ“ {id}
  âœ“ {id, name}
  âœ“ {id, name, salary}
  âœ“ {èº«ä»½è¯å·}

è¶…é”®å¯èƒ½åŒ…å«å†—ä½™å±æ€§
```

**2. å€™é€‰é”® (Candidate Key)**
```
æœ€å°çš„è¶…é”®ï¼ˆå»æ‰ä»»ä½•å±æ€§éƒ½ä¸å†æ˜¯è¶…é”®ï¼‰

å‘˜å·¥è¡¨çš„å€™é€‰é”®ï¼š
  âœ“ {id}
  âœ“ {èº«ä»½è¯å·}

éƒ½æ˜¯å€™é€‰é”®ï¼Œä½†é€šå¸¸é€‰ id ä½œä¸ºä¸»é”®
```

**3. ä¸»é”® (Primary Key)**
```sql
-- ä»å€™é€‰é”®ä¸­é€‰ä¸€ä¸ªä½œä¸ºä¸»é”®
CREATE TABLE employees (
    id INT PRIMARY KEY,        -- ä¸»é”®
    id_card VARCHAR(18) UNIQUE, -- å€™é€‰é”®
    name VARCHAR(50),
    salary INT
);

ä¸»é”®ç‰¹ç‚¹ï¼š
  â€¢ å”¯ä¸€æ€§ï¼šä¸èƒ½é‡å¤
  â€¢ éç©ºæ€§ï¼šä¸èƒ½ä¸º NULL
  â€¢ ç¨³å®šæ€§ï¼šä¸€èˆ¬ä¸ä¼šæ”¹å˜
```

**4. å¤–é”® (Foreign Key)**
```sql
-- å¤–é”®å»ºç«‹è¡¨ä¹‹é—´çš„å…³ç³»
CREATE TABLE employees (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    dept_id INT,
    FOREIGN KEY (dept_id) REFERENCES departments(id)
);

CREATE TABLE departments (
    id INT PRIMARY KEY,
    name VARCHAR(50)
);

å¤–é”®ä½œç”¨ï¼š
  â€¢ ç»´æŠ¤å¼•ç”¨å®Œæ•´æ€§
  â€¢ ä¸èƒ½æ’å…¥ä¸å­˜åœ¨çš„ dept_id
  â€¢ åˆ é™¤éƒ¨é—¨æ—¶æ£€æŸ¥æ˜¯å¦æœ‰å‘˜å·¥
```

### 2. å®Œæ•´æ€§çº¦æŸ

#### å®ä½“å®Œæ•´æ€§
```sql
-- ä¸»é”®ä¸èƒ½ä¸ºç©º
INSERT INTO employees (id, name) VALUES (NULL, 'å¼ ä¸‰');  -- âŒ é”™è¯¯

INSERT INTO employees (id, name) VALUES (1, 'å¼ ä¸‰');     -- âœ“ æ­£ç¡®
```

#### å‚ç…§å®Œæ•´æ€§
```sql
-- å¤–é”®å¿…é¡»å¼•ç”¨å­˜åœ¨çš„å€¼
INSERT INTO employees (id, name, dept_id)
VALUES (1, 'å¼ ä¸‰', 999);  -- âŒ é”™è¯¯ï¼šéƒ¨é—¨ 999 ä¸å­˜åœ¨

INSERT INTO employees (id, name, dept_id)
VALUES (1, 'å¼ ä¸‰', 101);  -- âœ“ æ­£ç¡®ï¼šéƒ¨é—¨ 101 å­˜åœ¨
```

#### ç”¨æˆ·å®šä¹‰å®Œæ•´æ€§
```sql
-- è‡ªå®šä¹‰çº¦æŸ
CREATE TABLE employees (
    id INT PRIMARY KEY,
    age INT CHECK (age >= 18 AND age <= 65),  -- å¹´é¾„èŒƒå›´
    salary INT CHECK (salary > 0),             -- å·¥èµ„å¿…é¡»ä¸ºæ­£
    email VARCHAR(100) UNIQUE                  -- é‚®ç®±å”¯ä¸€
);
```

## ğŸ”§ å…³ç³»ä»£æ•°

å…³ç³»ä»£æ•°æ˜¯å…³ç³»æ¨¡å‹çš„ç†è®ºåŸºç¡€ï¼ŒSQL æ˜¯å®ƒçš„å®ç°ã€‚

### 1. é€‰æ‹© (Selection) - Ïƒ
```
ä»è¡¨ä¸­é€‰æ‹©æ»¡è¶³æ¡ä»¶çš„è¡Œ

Ïƒ(salary > 8000)(employees)

â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ salary â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2  â”‚ æå›› â”‚ 9000   â”‚
â”‚ 5  â”‚ èµµå…­ â”‚ 8500   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SQL ç­‰ä»·ï¼š
SELECT * FROM employees WHERE salary > 8000;
```

### 2. æŠ•å½± (Projection) - Ï€
```
ä»è¡¨ä¸­é€‰æ‹©æŸäº›åˆ—

Ï€(id, name)(employees)

â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚
â”‚ 2  â”‚ æå›› â”‚
â”‚ 3  â”‚ ç‹äº” â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

SQL ç­‰ä»·ï¼š
SELECT id, name FROM employees;
```

### 3. è¿æ¥ (Join) - â‹ˆ
```
ç»„åˆä¸¤ä¸ªè¡¨çš„æ•°æ®

employees â‹ˆ departments (é€šè¿‡ dept_id)

â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ salary â”‚ dept_name â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 8000   â”‚ æŠ€æœ¯éƒ¨    â”‚
â”‚ 2  â”‚ æå›› â”‚ 9000   â”‚ é”€å”®éƒ¨    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SQL ç­‰ä»·ï¼š
SELECT e.*, d.name as dept_name
FROM employees e
JOIN departments d ON e.dept_id = d.id;
```

### 4. å¹¶ã€äº¤ã€å·®
```
é›†åˆè¿ç®—

å¹¶ (Union): ä¸¤ä¸ªæŸ¥è¯¢ç»“æœçš„åˆé›†
äº¤ (Intersection): ä¸¤ä¸ªæŸ¥è¯¢ç»“æœçš„äº¤é›†
å·® (Difference): åœ¨ A ä¸­ä½†ä¸åœ¨ B ä¸­

SQL ç¤ºä¾‹ï¼š
SELECT name FROM employees_2023
UNION
SELECT name FROM employees_2024;
```

## ğŸ’» SQL è¯­è¨€

### 1. æ•°æ®å®šä¹‰è¯­è¨€ (DDL)

#### åˆ›å»ºè¡¨
```sql
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    email VARCHAR(100) NOT NULL,
    age INT CHECK (age >= 0),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_username (username),
    INDEX idx_email (email)
);
```

#### ä¿®æ”¹è¡¨
```sql
-- æ·»åŠ åˆ—
ALTER TABLE users ADD COLUMN phone VARCHAR(20);

-- åˆ é™¤åˆ—
ALTER TABLE users DROP COLUMN age;

-- ä¿®æ”¹åˆ—
ALTER TABLE users MODIFY COLUMN username VARCHAR(100);

-- æ·»åŠ ç´¢å¼•
ALTER TABLE users ADD INDEX idx_phone (phone);

-- æ·»åŠ å¤–é”®
ALTER TABLE orders
ADD CONSTRAINT fk_user
FOREIGN KEY (user_id) REFERENCES users(id);
```

#### åˆ é™¤è¡¨
```sql
DROP TABLE users;  -- åˆ é™¤è¡¨å’Œæ•°æ®

TRUNCATE TABLE users;  -- æ¸…ç©ºæ•°æ®ï¼Œä¿ç•™è¡¨ç»“æ„
```

### 2. æ•°æ®æŸ¥è¯¢è¯­è¨€ (DQL)

#### åŸºæœ¬æŸ¥è¯¢
```sql
-- æŸ¥è¯¢æ‰€æœ‰åˆ—
SELECT * FROM employees;

-- æŸ¥è¯¢æŒ‡å®šåˆ—
SELECT id, name, salary FROM employees;

-- å»é‡
SELECT DISTINCT dept_id FROM employees;

-- æ¡ä»¶æŸ¥è¯¢
SELECT * FROM employees WHERE salary > 8000;

-- å¤šæ¡ä»¶
SELECT * FROM employees
WHERE salary > 8000 AND dept_id = 101;

-- æ¨¡ç³ŠæŸ¥è¯¢
SELECT * FROM employees WHERE name LIKE 'å¼ %';

-- èŒƒå›´æŸ¥è¯¢
SELECT * FROM employees WHERE salary BETWEEN 7000 AND 9000;

-- IN æŸ¥è¯¢
SELECT * FROM employees WHERE dept_id IN (101, 102, 103);
```

#### æ’åºå’Œåˆ†é¡µ
```sql
-- æ’åº
SELECT * FROM employees ORDER BY salary DESC;

-- å¤šå­—æ®µæ’åº
SELECT * FROM employees
ORDER BY dept_id ASC, salary DESC;

-- åˆ†é¡µ
SELECT * FROM employees
ORDER BY id
LIMIT 10 OFFSET 20;  -- è·³è¿‡ 20 æ¡ï¼Œå– 10 æ¡

-- ç®€åŒ–å†™æ³•
SELECT * FROM employees
ORDER BY id
LIMIT 20, 10;  -- ä»ç¬¬ 20 æ¡å¼€å§‹ï¼Œå– 10 æ¡
```

#### èšåˆå‡½æ•°
```sql
-- ç»Ÿè®¡
SELECT COUNT(*) FROM employees;
SELECT COUNT(DISTINCT dept_id) FROM employees;

-- æ±‚å’Œã€å¹³å‡ã€æœ€å¤§ã€æœ€å°
SELECT
    SUM(salary) as total_salary,
    AVG(salary) as avg_salary,
    MAX(salary) as max_salary,
    MIN(salary) as min_salary
FROM employees;

-- åˆ†ç»„èšåˆ
SELECT dept_id, COUNT(*) as emp_count, AVG(salary) as avg_salary
FROM employees
GROUP BY dept_id;

-- åˆ†ç»„è¿‡æ»¤
SELECT dept_id, AVG(salary) as avg_salary
FROM employees
GROUP BY dept_id
HAVING AVG(salary) > 8000;
```

#### è¿æ¥æŸ¥è¯¢

**å†…è¿æ¥ (INNER JOIN)**
```sql
-- åªè¿”å›ä¸¤è¡¨éƒ½æœ‰åŒ¹é…çš„è®°å½•
SELECT e.name, d.name as dept_name
FROM employees e
INNER JOIN departments d ON e.dept_id = d.id;

employees:            departments:         ç»“æœ:
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚dept â”‚   â”‚ id â”‚ name â”‚      â”‚ name â”‚ dept â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 101 â”‚   â”‚101 â”‚ æŠ€æœ¯ â”‚  â†’   â”‚ å¼ ä¸‰ â”‚ æŠ€æœ¯ â”‚
â”‚ 2  â”‚ æå›› â”‚ 102 â”‚   â”‚102 â”‚ é”€å”® â”‚      â”‚ æå›› â”‚ é”€å”® â”‚
â”‚ 3  â”‚ ç‹äº” â”‚ 103 â”‚   â”‚103 â”‚ äººäº‹ â”‚      â”‚ ç‹äº” â”‚ äººäº‹ â”‚
â”‚ 4  â”‚ èµµå…­ â”‚NULL â”‚   â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜   èµµå…­è¢«è¿‡æ»¤ï¼ˆæ²¡æœ‰éƒ¨é—¨ï¼‰
```

**å·¦å¤–è¿æ¥ (LEFT JOIN)**
```sql
-- è¿”å›å·¦è¡¨æ‰€æœ‰è®°å½•ï¼Œå³è¡¨æ²¡æœ‰åŒ¹é…åˆ™ä¸º NULL
SELECT e.name, d.name as dept_name
FROM employees e
LEFT JOIN departments d ON e.dept_id = d.id;

ç»“æœ:
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ name â”‚ dept â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ ä¸‰ â”‚ æŠ€æœ¯ â”‚
â”‚ æå›› â”‚ é”€å”® â”‚
â”‚ ç‹äº” â”‚ äººäº‹ â”‚
â”‚ èµµå…­ â”‚ NULL â”‚  â† ä¿ç•™ï¼ˆæ²¡æœ‰éƒ¨é—¨ä¹Ÿæ˜¾ç¤ºï¼‰
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**å³å¤–è¿æ¥ (RIGHT JOIN)**
```sql
-- è¿”å›å³è¡¨æ‰€æœ‰è®°å½•ï¼Œå·¦è¡¨æ²¡æœ‰åŒ¹é…åˆ™ä¸º NULL
SELECT e.name, d.name as dept_name
FROM employees e
RIGHT JOIN departments d ON e.dept_id = d.id;

å¦‚æœ departments æœ‰ 104ï¼ˆè´¢åŠ¡éƒ¨ï¼‰ï¼Œä½†æ²¡æœ‰å‘˜å·¥ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ name â”‚ dept â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ ä¸‰ â”‚ æŠ€æœ¯ â”‚
â”‚ æå›› â”‚ é”€å”® â”‚
â”‚ ç‹äº” â”‚ äººäº‹ â”‚
â”‚ NULL â”‚ è´¢åŠ¡ â”‚  â† ä¿ç•™ï¼ˆæ²¡æœ‰å‘˜å·¥ä¹Ÿæ˜¾ç¤ºï¼‰
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
```

**å…¨å¤–è¿æ¥ (FULL OUTER JOIN)**
```sql
-- è¿”å›ä¸¤è¡¨æ‰€æœ‰è®°å½•ï¼Œæ²¡æœ‰åŒ¹é…åˆ™ä¸º NULL
-- MySQL ä¸ç›´æ¥æ”¯æŒï¼Œéœ€è¦ç”¨ UNION æ¨¡æ‹Ÿ
SELECT e.name, d.name as dept_name
FROM employees e
LEFT JOIN departments d ON e.dept_id = d.id
UNION
SELECT e.name, d.name as dept_name
FROM employees e
RIGHT JOIN departments d ON e.dept_id = d.id;
```

**è‡ªè¿æ¥**
```sql
-- æŸ¥æ‰¾åŒä¸€éƒ¨é—¨çš„å…¶ä»–å‘˜å·¥
SELECT e1.name, e2.name as colleague
FROM employees e1
JOIN employees e2 ON e1.dept_id = e2.dept_id
WHERE e1.id != e2.id;
```

#### å­æŸ¥è¯¢

**WHERE å­æŸ¥è¯¢**
```sql
-- æŸ¥æ‰¾å·¥èµ„é«˜äºå¹³å‡å·¥èµ„çš„å‘˜å·¥
SELECT name, salary
FROM employees
WHERE salary > (SELECT AVG(salary) FROM employees);

-- IN å­æŸ¥è¯¢
SELECT name FROM employees
WHERE dept_id IN (
    SELECT id FROM departments WHERE name LIKE 'æŠ€æœ¯%'
);

-- EXISTS å­æŸ¥è¯¢
SELECT name FROM employees e
WHERE EXISTS (
    SELECT 1 FROM orders o WHERE o.user_id = e.id
);
```

**FROM å­æŸ¥è¯¢**
```sql
-- å­æŸ¥è¯¢ä½œä¸ºä¸´æ—¶è¡¨
SELECT dept_id, avg_salary
FROM (
    SELECT dept_id, AVG(salary) as avg_salary
    FROM employees
    GROUP BY dept_id
) as dept_avg
WHERE avg_salary > 8000;
```

**SELECT å­æŸ¥è¯¢**
```sql
-- æŸ¥è¯¢æ¯ä¸ªå‘˜å·¥åŠå…¶éƒ¨é—¨å¹³å‡å·¥èµ„
SELECT
    name,
    salary,
    (SELECT AVG(salary)
     FROM employees e2
     WHERE e2.dept_id = e1.dept_id) as dept_avg
FROM employees e1;
```

### 3. æ•°æ®æ“ä½œè¯­è¨€ (DML)

#### æ’å…¥
```sql
-- æ’å…¥å•æ¡
INSERT INTO users (username, email, age)
VALUES ('zhangsan', 'zhang@example.com', 25);

-- æ’å…¥å¤šæ¡
INSERT INTO users (username, email, age) VALUES
    ('lisi', 'li@example.com', 30),
    ('wangwu', 'wang@example.com', 28);

-- ä»æŸ¥è¯¢ç»“æœæ’å…¥
INSERT INTO users_backup
SELECT * FROM users WHERE age > 30;
```

#### æ›´æ–°
```sql
-- æ›´æ–°å•æ¡
UPDATE users SET age = 26 WHERE username = 'zhangsan';

-- æ›´æ–°å¤šåˆ—
UPDATE users
SET age = 26, email = 'new@example.com'
WHERE username = 'zhangsan';

-- æ‰¹é‡æ›´æ–°
UPDATE users SET age = age + 1 WHERE age < 30;

-- ä½¿ç”¨å­æŸ¥è¯¢æ›´æ–°
UPDATE employees SET salary = salary * 1.1
WHERE dept_id IN (
    SELECT id FROM departments WHERE name = 'æŠ€æœ¯éƒ¨'
);
```

#### åˆ é™¤
```sql
-- åˆ é™¤å•æ¡
DELETE FROM users WHERE id = 1;

-- æ‰¹é‡åˆ é™¤
DELETE FROM users WHERE age < 18;

-- ä½¿ç”¨å­æŸ¥è¯¢åˆ é™¤
DELETE FROM orders WHERE user_id IN (
    SELECT id FROM users WHERE status = 'inactive'
);
```

### 4. SQL æ‰§è¡Œé¡ºåº

```sql
SELECT DISTINCT column, AGG_FUNC(column)
FROM table1
JOIN table2 ON condition
WHERE condition
GROUP BY column
HAVING condition
ORDER BY column
LIMIT count OFFSET start;

å®é™…æ‰§è¡Œé¡ºåºï¼š
1. FROM     - ç¡®å®šæ•°æ®æ¥æº
2. JOIN     - è¿æ¥è¡¨
3. WHERE    - è¿‡æ»¤è¡Œ
4. GROUP BY - åˆ†ç»„
5. HAVING   - è¿‡æ»¤åˆ†ç»„
6. SELECT   - é€‰æ‹©åˆ—
7. DISTINCT - å»é‡
8. ORDER BY - æ’åº
9. LIMIT    - é™åˆ¶ç»“æœæ•°é‡
```

**ç¤ºä¾‹åˆ†æï¼š**
```sql
SELECT dept_id, AVG(salary) as avg_salary
FROM employees
WHERE salary > 5000
GROUP BY dept_id
HAVING AVG(salary) > 8000
ORDER BY avg_salary DESC
LIMIT 3;

æ‰§è¡Œè¿‡ç¨‹ï¼š
1. FROM employees           â†’ è·å–å‘˜å·¥è¡¨
2. WHERE salary > 5000      â†’ è¿‡æ»¤ä½å·¥èµ„å‘˜å·¥
3. GROUP BY dept_id         â†’ æŒ‰éƒ¨é—¨åˆ†ç»„
4. HAVING AVG(salary)>8000  â†’ è¿‡æ»¤å¹³å‡å·¥èµ„ä½çš„éƒ¨é—¨
5. SELECT dept_id, AVG...   â†’ è®¡ç®—å¹¶é€‰æ‹©åˆ—
6. ORDER BY avg_salary DESC â†’ æŒ‰å¹³å‡å·¥èµ„é™åº
7. LIMIT 3                  â†’ å–å‰ 3 ä¸ª
```

## ğŸ“ èŒƒå¼ç†è®º

èŒƒå¼æ˜¯è®¾è®¡è‰¯å¥½æ•°æ®åº“çš„æŒ‡å¯¼åŸåˆ™ï¼Œç”¨äºå‡å°‘æ•°æ®å†—ä½™å’Œé¿å…å¼‚å¸¸ã€‚

### èŒƒå¼ä¹‹é—´çš„å…³ç³»

èŒƒå¼æ˜¯**å±‚å±‚é€’è¿›ã€é€æ­¥å¼ºåŒ–**çš„å…³ç³»ï¼š

```
1NF âŠ‚ 2NF âŠ‚ 3NF âŠ‚ BCNF âŠ‚ 4NF âŠ‚ 5NF
```

- æ»¡è¶³é«˜çº§èŒƒå¼å¿…ç„¶æ»¡è¶³ä½çº§èŒƒå¼
- èŒƒå¼çº§åˆ«è¶Šé«˜ï¼Œå†—ä½™è¶Šå°‘ï¼Œä½†æŸ¥è¯¢å¯èƒ½éœ€è¦æ›´å¤š JOIN
- å®é™…åº”ç”¨ä¸­ï¼Œå¤§éƒ¨åˆ†åœºæ™¯æ»¡è¶³ **3NF æˆ– BCNF** å°±è¶³å¤Ÿ

### ç¬¬ä¸€èŒƒå¼ (1NF) - åŸå­æ€§
```
æ¯ä¸ªå­—æ®µéƒ½æ˜¯ä¸å¯åˆ†å‰²çš„åŸå­å€¼

âŒ è¿å 1NFï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ phones       â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 123,456,789  â”‚  â† åŒ…å«å¤šä¸ªç”µè¯
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ“ ç¬¦åˆ 1NFï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ phone â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 123   â”‚
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 456   â”‚
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 789   â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¬¬äºŒèŒƒå¼ (2NF) - å®Œå…¨ä¾èµ–
```
éä¸»é”®å­—æ®µå¿…é¡»å®Œå…¨ä¾èµ–äºä¸»é”®ï¼ˆä¸èƒ½åªä¾èµ–ä¸»é”®çš„ä¸€éƒ¨åˆ†ï¼‰

âŒ è¿å 2NFï¼š
è®¢å•æ˜ç»†è¡¨ï¼ˆè”åˆä¸»é”®ï¼šorder_id, product_idï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ order_id â”‚ product_id â”‚ qty  â”‚ product_name â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1001     â”‚ 101        â”‚ 2    â”‚ iPhone       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘                        â†‘
         ä¸»é”®                     åªä¾èµ– product_id
                                  (éƒ¨åˆ†ä¾èµ–)

âœ“ ç¬¦åˆ 2NFï¼šæ‹†åˆ†æˆä¸¤ä¸ªè¡¨
è®¢å•æ˜ç»†è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ order_id â”‚ product_id â”‚ qty  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜

äº§å“è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ product_id â”‚ product_name â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¬¬ä¸‰èŒƒå¼ (3NF) - æ— ä¼ é€’ä¾èµ–
```
éä¸»é”®å­—æ®µä¸èƒ½ä¾èµ–äºå…¶ä»–éä¸»é”®å­—æ®µ

âŒ è¿å 3NFï¼š
å‘˜å·¥è¡¨
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ dept_id â”‚ dept_name â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1  â”‚ å¼ ä¸‰ â”‚ 101     â”‚ æŠ€æœ¯éƒ¨    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â†‘            â†‘          â†‘
  ä¸»é”®         éä¸»é”®     éä¸»é”®
                â†“          â†“
              dept_name ä¾èµ–äº dept_id
              (ä¼ é€’ä¾èµ–)

âœ“ ç¬¦åˆ 3NFï¼šæ‹†åˆ†æˆä¸¤ä¸ªè¡¨
å‘˜å·¥è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ id â”‚ name â”‚ dept_id â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

éƒ¨é—¨è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ dept_id â”‚ dept_name â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BCNF (Boyce-Codd èŒƒå¼)
```
æ›´ä¸¥æ ¼çš„ 3NFï¼šæ‰€æœ‰å‡½æ•°ä¾èµ–çš„å†³å®šå› ç´ éƒ½å¿…é¡»æ˜¯å€™é€‰é”®

ç¤ºä¾‹ï¼šæ•™å¸ˆ-è¯¾ç¨‹-æ•™å®¤
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ teacher â”‚ course â”‚ classroom â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ è€å¸ˆ  â”‚ æ•°å­¦   â”‚ A101      â”‚
â”‚ å¼ è€å¸ˆ  â”‚ ç‰©ç†   â”‚ A101      â”‚
â”‚ æè€å¸ˆ  â”‚ æ•°å­¦   â”‚ B202      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—®é¢˜ï¼š
â€¢ å€™é€‰é”®ï¼š(teacher, course)
â€¢ ä½† teacher â†’ classroom (æ¯ä¸ªè€å¸ˆå›ºå®šæ•™å®¤)
â€¢ classroom ä¾èµ–äºéå€™é€‰é”®çš„ä¸€éƒ¨åˆ†

è§£å†³ï¼šæ‹†åˆ†è¡¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ teacher â”‚ course â”‚   â”‚ teacher â”‚ classroom â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¬¬å››èŒƒå¼ (4NF) - æ¶ˆé™¤å¤šå€¼ä¾èµ–
```
æ¶ˆé™¤éå¹³å‡¡ä¸”éå‡½æ•°ä¾èµ–çš„å¤šå€¼ä¾èµ–

ç¤ºä¾‹ï¼šæ•™å¸ˆ-è¯¾ç¨‹-ä¹¦ç±
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ teacher â”‚ course â”‚ book     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ è€å¸ˆ  â”‚ æ•°å­¦   â”‚ æ•™æA    â”‚
â”‚ å¼ è€å¸ˆ  â”‚ æ•°å­¦   â”‚ æ•™æB    â”‚
â”‚ å¼ è€å¸ˆ  â”‚ ç‰©ç†   â”‚ æ•™æA    â”‚
â”‚ å¼ è€å¸ˆ  â”‚ ç‰©ç†   â”‚ æ•™æB    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—®é¢˜ï¼š
â€¢ å¼ è€å¸ˆæ•™{æ•°å­¦, ç‰©ç†}ï¼Œæ¨è{æ•™æA, æ•™æB}
â€¢ è¯¾ç¨‹å’Œä¹¦ç±ç›¸äº’ç‹¬ç«‹ï¼Œä½†äº§ç”Ÿç¬›å¡å°”ç§¯
â€¢ å¯¼è‡´å†—ä½™ï¼šè¯¾ç¨‹å’Œä¹¦ç±çš„æ‰€æœ‰ç»„åˆéƒ½è¦å­˜å‚¨

è§£å†³ï¼šæ‹†åˆ†è¡¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ teacher â”‚ course â”‚   â”‚ teacher â”‚ book     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å¼ è€å¸ˆ  â”‚ æ•°å­¦   â”‚   â”‚ å¼ è€å¸ˆ  â”‚ æ•™æA    â”‚
â”‚ å¼ è€å¸ˆ  â”‚ ç‰©ç†   â”‚   â”‚ å¼ è€å¸ˆ  â”‚ æ•™æB    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç¬¬äº”èŒƒå¼ (5NF/PJNF) - æ¶ˆé™¤è¿æ¥ä¾èµ–
```
è¡¨ä¸èƒ½è¢«æ— æŸåˆ†è§£ä¸ºæ›´å°çš„è¡¨ï¼ˆè¾ƒå°‘ä½¿ç”¨ï¼‰

å®é™…åº”ç”¨ä¸­ï¼Œ4NF å’Œ 5NF å¾ˆå°‘éœ€è¦ï¼Œå¤šæ•°åœºæ™¯ 3NF/BCNF å·²è¶³å¤Ÿã€‚
```

### èŒƒå¼é€‰æ‹©ä¸åèŒƒå¼åŒ–

#### èŒƒå¼é€‰æ‹©åŸåˆ™
```
1NFï¼šæœ€ä½è¦æ±‚ï¼Œå‡ ä¹æ‰€æœ‰è¡¨éƒ½åº”æ»¡è¶³
2NF/3NFï¼šæ ‡å‡†è®¾è®¡ï¼Œå¤§å¤šæ•°ä¸šåŠ¡è¡¨åº”æ»¡è¶³
BCNFï¼šä¸¥æ ¼è®¾è®¡ï¼Œé‡è¦çš„æ ¸å¿ƒè¡¨åº”æ»¡è¶³
4NF/5NFï¼šç‰¹æ®Šåœºæ™¯ï¼Œä¸€èˆ¬ä¸éœ€è¦
```

#### åèŒƒå¼åŒ–
```
æœ‰æ—¶ä¸ºäº†æ€§èƒ½ï¼Œæ•…æ„è¿åèŒƒå¼

ç¤ºä¾‹ï¼šç”µå•†è®¢å•
è§„èŒƒåŒ–è®¾è®¡ï¼š
  orders è¡¨ + order_items è¡¨ + products è¡¨
  æŸ¥è¯¢è®¢å•éœ€è¦ 3 æ¬¡ JOIN

åèŒƒå¼åŒ–è®¾è®¡ï¼š
  åœ¨ order_items ä¸­å†—ä½™å­˜å‚¨ product_nameã€price
  æŸ¥è¯¢è®¢å•åªéœ€ 1 æ¬¡ JOIN

æƒè¡¡ï¼š
  âœ“ æŸ¥è¯¢æ›´å¿«
  âœ“ ä»£ç æ›´ç®€å•
  âŒ æ›´æ–°æ—¶éœ€è¦ç»´æŠ¤å¤šå¤„æ•°æ®
  âŒ å ç”¨æ›´å¤šå­˜å‚¨ç©ºé—´

ä½•æ—¶åèŒƒå¼åŒ–ï¼š
  â€¢ è¯»å¤šå†™å°‘çš„åœºæ™¯
  â€¢ å†—ä½™æ•°æ®å¾ˆå°‘å˜åŒ–
  â€¢ æŸ¥è¯¢æ€§èƒ½æ˜¯ç“¶é¢ˆ
```

## ğŸ¯ æœ€ä½³å®è·µ

### 1. è¡¨è®¾è®¡åŸåˆ™
```sql
-- âœ“ å¥½çš„è®¾è®¡
CREATE TABLE users (
    -- ä½¿ç”¨è‡ªå¢ä¸»é”®
    id BIGINT AUTO_INCREMENT PRIMARY KEY,

    -- å¿…å¡«å­—æ®µæ ‡è®° NOT NULL
    username VARCHAR(50) NOT NULL,
    email VARCHAR(100) NOT NULL,

    -- æ·»åŠ å”¯ä¸€ç´¢å¼•
    UNIQUE KEY uk_username (username),
    UNIQUE KEY uk_email (email),

    -- æ·»åŠ ä¸šåŠ¡ç´¢å¼•
    INDEX idx_created_at (created_at),

    -- ä½¿ç”¨æ—¶é—´æˆ³è®°å½•åˆ›å»ºå’Œæ›´æ–°æ—¶é—´
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
                         ON UPDATE CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- âŒ å·®çš„è®¾è®¡
CREATE TABLE users (
    -- ä½¿ç”¨ UUID ä½œä¸ºä¸»é”®ï¼ˆæ€§èƒ½å·®ï¼‰
    id VARCHAR(36) PRIMARY KEY,

    -- æ²¡æœ‰æ ‡è®° NOT NULL
    username VARCHAR(50),

    -- æ²¡æœ‰ç´¢å¼•ï¼ˆæŸ¥è¯¢æ…¢ï¼‰

    -- ä½¿ç”¨ DATETIME è€Œé TIMESTAMP
    created_at DATETIME
);
```

### 2. æŸ¥è¯¢ä¼˜åŒ–æŠ€å·§
```sql
-- âœ“ ä½¿ç”¨ç´¢å¼•
SELECT * FROM users WHERE username = 'zhangsan';  -- username æœ‰ç´¢å¼•

-- âŒ ç ´åç´¢å¼•
SELECT * FROM users WHERE LOWER(username) = 'zhangsan';  -- å‡½æ•°ç ´åç´¢å¼•

-- âœ“ åªæŸ¥è¯¢éœ€è¦çš„åˆ—
SELECT id, username FROM users WHERE age > 18;

-- âŒ æŸ¥è¯¢æ‰€æœ‰åˆ—
SELECT * FROM users WHERE age > 18;

-- âœ“ ä½¿ç”¨ LIMIT
SELECT * FROM users ORDER BY created_at DESC LIMIT 100;

-- âŒ ä¸é™åˆ¶ç»“æœæ•°é‡
SELECT * FROM users ORDER BY created_at DESC;

-- âœ“ ä½¿ç”¨ JOIN
SELECT u.name, o.total
FROM users u
JOIN orders o ON u.id = o.user_id;

-- âŒ åœ¨åº”ç”¨å±‚æ‹¼æ¥
SELECT * FROM users;  -- å–æ‰€æœ‰ç”¨æˆ·
SELECT * FROM orders; -- å–æ‰€æœ‰è®¢å•
-- ç„¶ååœ¨ä»£ç é‡Œå…³è”
```

### 3. äº‹åŠ¡ä½¿ç”¨
```sql
-- âœ“ çŸ­äº‹åŠ¡
START TRANSACTION;
UPDATE account SET balance = balance - 100 WHERE id = 1;
UPDATE account SET balance = balance + 100 WHERE id = 2;
COMMIT;

-- âŒ é•¿äº‹åŠ¡ï¼ˆæŒæœ‰é”æ—¶é—´é•¿ï¼‰
START TRANSACTION;
UPDATE account SET balance = balance - 100 WHERE id = 1;
-- åšå¤æ‚è®¡ç®—æˆ–ç½‘ç»œè¯·æ±‚...
UPDATE account SET balance = balance + 100 WHERE id = 2;
COMMIT;
```

## ğŸ”— ä¸å…¶ä»–æ¦‚å¿µçš„è”ç³»

### ä¸æ•°æ®ç»“æ„
- **B+ æ ‘** - ç´¢å¼•å®ç°çš„åŸºç¡€
- **å“ˆå¸Œè¡¨** - å“ˆå¸Œç´¢å¼•çš„åŸºç¡€
- **é“¾è¡¨** - å†²çªè§£å†³

å‚è€ƒï¼š`fundamentals/data-structures/`

### ä¸ç®—æ³•
- **æŸ¥è¯¢ä¼˜åŒ–** - åŠ¨æ€è§„åˆ’é€‰æ‹©æœ€ä¼˜æ‰§è¡Œè®¡åˆ’
- **è¿æ¥ç®—æ³•** - åµŒå¥—å¾ªç¯ã€å“ˆå¸Œè¿æ¥ã€æ’åºåˆå¹¶

å‚è€ƒï¼š`fundamentals/algorithms/`

### ä¸å…¶ä»–æ•°æ®åº“æ¦‚å¿µ
- [ç´¢å¼•](./indexing-query-optimization.md) - åŠ é€ŸæŸ¥è¯¢
- [äº‹åŠ¡](./transactions-concurrency.md) - ä¿è¯ä¸€è‡´æ€§
- [å­˜å‚¨å¼•æ“](./storage-engines.md) - åº•å±‚å®ç°

## ğŸ“š æ‰©å±•é˜…è¯»

### å…³ç³»æ¨¡å‹
- Codd çš„è®ºæ–‡ï¼š"A Relational Model of Data for Large Shared Data Banks"
- å…³ç³»ä»£æ•°ä¸å…³ç³»æ¼”ç®—
- å‡½æ•°ä¾èµ–ç†è®º

### SQL æ ‡å‡†
- SQL-92ã€SQL:1999ã€SQL:2003
- çª—å£å‡½æ•° (Window Functions)
- å…¬å…±è¡¨è¡¨è¾¾å¼ (CTE)
- é€’å½’æŸ¥è¯¢

### é«˜çº§ä¸»é¢˜
- ç‰©åŒ–è§†å›¾
- åˆ†åŒºè¡¨
- å…¨æ–‡æœç´¢
- JSON æ”¯æŒ

---

**æŒæ¡å…³ç³»æ¨¡å‹å’Œ SQLï¼Œä½ å°±æŒæ¡äº†æ•°æ®åº“çš„æ ¸å¿ƒï¼** ğŸ—ƒï¸
